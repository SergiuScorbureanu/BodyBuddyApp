<form [formGroup]="userParamForm" (ngSubmit)="onSubmit()">
  <fieldset>
    <legend>Enter the data for the nutrition calculator</legend>

    <!-- Greutate -->
    <div class="form-group row">
      <label for="weight" class="col-sm-2 col-form-label">Weight (kg)</label>
      <div class="col-sm-10">
        <input type="number" class="form-control" formControlName="weight" placeholder="Enter the weight">
        <div *ngIf="userParamForm.get('weight')?.touched && userParamForm.get('weight')?.invalid" class="text-danger">
          <div *ngIf="userParamForm.get('weight')?.errors?.['required']">Weight is required.</div>
          <div *ngIf="userParamForm.get('weight')?.errors?.['min']">Weight must be at least 1 kg.</div>
        </div>
      </div>
    </div>

    <!-- Inaltime -->
    <div class="form-group row">
      <label for="height" class="col-sm-2 col-form-label">Height (cm)</label>
      <div class="col-sm-10">
        <input type="number" class="form-control" formControlName="height" placeholder="Enter the height">
        <div *ngIf="userParamForm.get('height')?.touched && userParamForm.get('height')?.invalid" class="text-danger">
          <div *ngIf="userParamForm.get('height')?.errors?.['required']">Height is required.</div>
          <div *ngIf="userParamForm.get('height')?.errors?.['min']">Height must be at least 1 cm.</div>
        </div>
      </div>
    </div>

    <!-- Data nasterii -->
    <div class="form-group">
      <label for="birthDay" class="form-label">Birthday</label>
      <input type="date" class="form-control" formControlName="birthDay" placeholder="Introduceți data nașterii">
      <div *ngIf="userParamForm.get('birthDay')?.touched && userParamForm.get('birthDay')?.invalid" class="text-danger">
        <div *ngIf="userParamForm.get('birthDay')?.errors?.['required']">Birthday is required.</div>
      </div>
    </div>

    <!-- Gen -->
    <div class="form-group">
      <label for="gender" class="form-label">Gender</label>
      <select class="form-select" formControlName="gender">
        <option value="MALE">Male</option>
        <option value="FEMALE">Female</option>
      </select>
      <div *ngIf="userParamForm.get('gender')?.touched && userParamForm.get('gender')?.invalid" class="text-danger">
        <div *ngIf="userParamForm.get('gender')?.errors?.['required']">Gender is required.</div>
      </div>
    </div>

    <!-- Nivel de Activitate -->
    <div class="form-group">
      <label for="trainingType" class="form-label">Activity level</label>
      <select class="form-select" formControlName="trainingType">
        <option value="SEDENTARY">Sedentary - little or not at all</option>
        <option value="LIGHTLY_ACTIVE">Lightly active - sport 1-3 days a week</option>
        <option value="MODERATELY_ACTIVE">Moderately active - sport 3-5 days a week</option>
        <option value="VERY_ACTIVE">Very active - sport 6-7 days a week</option>
        <option value="EXTRA_ACTIVE">Extra active - very heavy exercise/physical work</option>
      </select>
      <div *ngIf="userParamForm.get('trainingType')?.touched && userParamForm.get('trainingType')?.invalid" class="text-danger">
        <div *ngIf="userParamForm.get('trainingType')?.errors?.['required']">Activity level is required.</div>
      </div>
    </div>

    <!-- Obiectiv de Greutate -->
    <div class="form-group">
      <label for="weightGoal" class="form-label">Weight Goal</label>
      <select class="form-select" formControlName="weightGoal">
        <option value="LOSE_WEIGHT">Lose weight</option>
        <option value="MAINTAIN_WEIGHT">Maintain weight</option>
        <option value="GAIN_WEIGHT">Gain weight</option>
      </select>
      <div *ngIf="userParamForm.get('weightGoal')?.touched && userParamForm.get('weightGoal')?.invalid" class="text-danger">
        <div *ngIf="userParamForm.get('weightGoal')?.errors?.['required']">Weight goal is required.</div>
      </div>
    </div>

    <!-- Rata de schimbare a greutatii -->
    <div class="form-group">
      <label for="weightChangeRate" class="form-label">Weight Change Rate</label>
      <select class="form-select" formControlName="weightChangeRate">
        <option value="SLOW">Slow </option>
        <option value="MODERATE">Moderate</option>
        <option value="FAST">Fast</option>
      </select>
      <div *ngIf="userParamForm.get('weightChangeRate')?.touched && userParamForm.get('weightChangeRate')?.invalid" class="text-danger">
        <div *ngIf="userParamForm.get('weightChangeRate')?.errors?.['required']">Weight change rate is required.</div>
      </div>
    </div>

    <button type="submit">Submit</button>

    <!-- Mesaj de succes -->
    <div *ngIf="isSuccessful" class="alert alert-success mt-3">
      Your parameters have been successfully submitted!
    </div>

    <!-- Mesaj de eroare -->
    <div *ngIf="errorMessage" class="alert alert-danger mt-3">
      {{ errorMessage }}
    </div>
  </fieldset>
</form>
